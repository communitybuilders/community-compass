{"version":3,"sources":["autocomplete-address.js","google-map.js","infinitescroll.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(function () {\n    'use strict';\n\n    // Only run this js on the index page.\n    if (!$('body').is('#pages-index')) {\n        return;\n    }\n\n    var input = $('#autocomplete')[0];\n    var options = {\n        types: ['address']\n    };\n\n    var autocomplete = new google.maps.places.Autocomplete(input, options);\n\n    google.maps.event.addListener(autocomplete, 'place_changed', function() {\n        var addressParts = {\n            street_number: 'long_name',\n            route: 'long_name',\n            locality: 'long_name',\n            administrative_area_level_1: 'short_name',\n            country: 'long_name',\n            postal_code: 'short_name'\n        };\n        var place = autocomplete.getPlace();\n        var type;\n        var name;\n\n        // TODO: use address parts to search for nearby charities.\n        //$.each(place.address_components, function(index, component) {\n        //    type = component.types[0];\n        //    name = addressParts[type];\n        //    if (name) {\n        //        console.log(type + ' = ' + component[name]);\n        //    }\n        //});\n\n        // TODO: use geocode to display map marker.\n        if (place.geometry && place.geometry.location) {\n            $('#lat').val(place.geometry.location.lat()).trigger('change');\n            $('#lng').val(place.geometry.location.lng()).trigger('change');\n        }\n\n    });\n\n});\n","$(function () {\n\n    // Only run this js on the index page.\n    if (!$('body').is('#pages-index')) {\n        return;\n    }\n\n    var mapOptions = {\n        mapTypeControl: false,\n        //mapTypeId: google.maps.MapTypeId.HYBRID,\n        overviewMapControl: true,\n        panControl: false,\n        scaleControl: false,\n        streetViewControl: true,\n        zoom: 18,\n        zoomControl: true\n    };\n    var map = new google.maps.Map($('#canvas')[0], mapOptions);\n    var marker = new google.maps.Marker();\n    var infoWindow = new google.maps.InfoWindow();\n    var latLng;\n\n    google.maps.event.addListener(marker, 'click', function() {\n        infoWindow.setContent('<p>' + $('#autocomplete').val() + '</p>');\n        infoWindow.open(map, marker);\n    });\n\n    var updateMap = function(lat, lng) {\n        infoWindow.close();\n        marker.setMap(null);\n        latLng = new google.maps.LatLng(lat, lng);\n        map.setCenter(latLng);\n        marker.setPosition(latLng);\n        marker.setMap(map);\n    };\n\n    $('#lat, #lng').on('change', function() {\n        updateMap($('#lat').val(), $('#lng').val());\n    });\n\n    // Trigger update map for office location.\n    var defaultLoc = {\n        lat: -33.8132992,\n        lng: 151.0094947\n    };\n    updateMap(defaultLoc.lat, defaultLoc.lng);\n\n});\n","$(function () {\n\n    // Only run this js on the organisations index page.\n    if (!$('body').is('#organisations-index')) {\n        return;\n    }\n    var current_row = 30;\n\n    $(window).scroll(function() {\n\n        setTimeout(function(){\n            if($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"organisations/ajaxloadorganisations\",\n                    data: {\n                        '_token':$('input[name=_token]').val(),\n                        'current_row':current_row\n                    },\n\n                    success: function(data) {\n                        current_row = current_row + current_row;\n                        var display;\n                        var result = JSON.parse(data);\n\n                        $(result).each(function(index, value){\n                            display += \"<section class='col-xs-6 col-md3 col-md-3 col-lg-3'>\";\n                            display +=\"<div class='panel panel-default' style='padding: 10px 10px 10px 10px;'>\";\n                            display +=\"<img src='http://www.clipartbest.com/cliparts/9Tp/bX4/9TpbX4njc.png' alt='image' width='140'><br />\";\n                            display += value.legal_name + \"<br />\";\n                            display +=\"<a>claim</a><br /><a>like</a> <br /><a>subscribe</a><br /><a>donate</a><br /></div></section>\";\n\n                        });\n\n                        $(\".organisations_div\").append(display);\n                    }\n                });\n\n            }\n        }, 200);\n    });\n\n    $(document).on(\"click\", \".claim\", function () {\n        var claim_id = $(this).data('id');\n        $(\".modal-body #bookId\").val( claim_id );\n        $('#addBookDialog').modal('show');\n    });\n\n});\n"],"sourceRoot":"/source/"}